!function(n,t){"function"==typeof define&&define.amd?define(["angular"],t):n.WaypointModule=t(n.angular)}(this,function(n){var t=function(n){this.$timeout=n};t.prototype.getHandlerSync=function(n,t){var o=this.$timeout;return function(e){var i=n[e];i&&o($.proxy(t,null,i))}};var o={},e=function(n){n.waypoints={},this.$scope=n},i=function(n){var t;return o[n]||(t=n.split("."),1===t.length&&t.unshift("globals"),o[n]={namespace:t.shift(),waypoint:t.join(".")}),o[n]},a=function(n,t){$.each(n,function(t){n[t]=!1}),n[t]=!0};e.prototype.processWaypoint=function(n){var t=this.$scope.waypoints,o=i(n),e=o.namespace;t[e]||(t[e]={}),a(t[e],o.waypoint)};var r=function(n){return{controller:"WaypointController",scope:{up:"@",down:"@",offset:"@",waypoints:"=?zumWaypoint"},link:function(t,o,e,i){var a=$.proxy(i.processWaypoint,i);o.waypoint({handler:n.getHandlerSync(t,a),offset:t.offset||0})}}};return n.module("zumba.angular-waypoints",[]).controller("WaypointController",["$scope",e]).directive("zumWaypoint",["WaypointService",r]).service("WaypointService",["$timeout",t])});